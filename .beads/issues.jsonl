{"id":"claude-0k3","title":"[EPIC] Cloudflare Runtime Adapter","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T14:34:30.194119-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:11:10.007123-06:00","closed_at":"2026-01-06T15:11:10.007123-06:00","close_reason":"All TDD children completed","dependencies":[{"issue_id":"claude-0k3","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:42:10.144395-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0k3.1","title":"TDD: Backward compatibility","description":"## RED Phase\n- Test `import { Sandbox }` still works\n- Test existing server code unchanged\n- Test type compatibility\n\n## GREEN Phase\n- Re-export aliases\n- Deprecation warnings\n\n## REFACTOR Phase\n- Migration documentation","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:35:24.786605-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:05:57.862993-06:00","closed_at":"2026-01-06T15:05:57.862993-06:00","close_reason":"Backward compatibility verified with tests","dependencies":[{"issue_id":"claude-0k3.1","depends_on_id":"claude-0k3","type":"parent-child","created_at":"2026-01-06T14:35:24.78925-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-0k3.1","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:42:57.677898-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0k3.2","title":"TDD: CloudflareRuntime wrapper","description":"## RED Phase\n- Test CloudflareRuntime implements Runtime interface\n- Test wraps existing @cloudflare/sandbox\n- Test exec() delegates correctly\n- Test startProcess() delegates correctly\n- Test file operations delegate\n\n## GREEN Phase\n- Create `src/runtimes/cloudflare.ts`\n- Wrap Sandbox as Runtime\n- Minimal adapter code\n\n## REFACTOR Phase\n- Type alignment\n- Error normalization","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:35:37.193758-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:07:59.432036-06:00","closed_at":"2026-01-06T15:07:59.432036-06:00","close_reason":"CloudflareRuntime wrapper implements Runtime interface with 26 passing tests","dependencies":[{"issue_id":"claude-0k3.2","depends_on_id":"claude-0k3","type":"parent-child","created_at":"2026-01-06T14:35:37.195599-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-0k3.2","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:35:37.196684-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0k3.3","title":"TDD: ClaudeCode uses CloudflareRuntime","description":"## RED Phase\n- Test ClaudeCode DO still works\n- Test existing API unchanged\n- Test getSandbox() backward compat\n\n## GREEN Phase\n- Update ClaudeCode to use CloudflareRuntime internally\n- Maintain all existing functionality\n\n## REFACTOR Phase\n- Remove direct Sandbox references\n- Use ClaudeSession internally where possible","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:35:44.010037-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:07:16.155663-06:00","closed_at":"2026-01-06T15:07:16.155663-06:00","close_reason":"ClaudeCode uses CloudflareRuntime with backward compat","dependencies":[{"issue_id":"claude-0k3.3","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:44:50.531207-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0ox","title":"[TDD-DOC-32] GREEN: IDE Layout Example","description":"Write docs/examples/ide-layout.mdx - full IDE-like layout with all components","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:07.072051-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:11:48.976037-06:00","closed_at":"2026-01-06T10:11:48.976037-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-0ox","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:46.886118-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0p7","title":"[TDD-DOC-04] RED: Docs Export Coverage","description":"Create test that validates all exports from @dotdo/claude and @dotdo/terminal are documented in reference pages","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T09:26:29.382514-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:46:53.112745-06:00","closed_at":"2026-01-06T09:46:53.112745-06:00","close_reason":"RED tests created in docs/__tests__/"}
{"id":"claude-0qi","title":"[TDD-DOC-14] GREEN: SDK Types","description":"Write docs/sdk/types.mdx - SDKMessage, ClaudeSession, ClaudeCodeOptions, all type definitions","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:17.129115-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:58:19.068028-06:00","closed_at":"2026-01-06T09:58:19.068028-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-0qi","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:13.516646-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0wb","title":"TDD: Deprecate Sandbox naming","description":"## RED Phase\n- Test `Sandbox` still importable (backward compat)\n- Test deprecation warning in types\n- Test `CloudflareRuntime` is preferred name\n\n## GREEN Phase\n- Create type alias: `type Sandbox = Runtime`\n- Add @deprecated JSDoc tag\n- Update exports\n\n## REFACTOR Phase\n- Add migration notes\n- Update all internal usages to use Runtime","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:35:31.499045-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:58:34.89271-06:00","closed_at":"2026-01-06T14:58:34.89271-06:00","close_reason":"Sandbox deprecated as alias for CloudflareRuntime - implements TDD issue with new CloudflareRuntime, CloudflareProcess, CloudflareNamespace interfaces and Sandbox types as deprecated aliases","dependencies":[{"issue_id":"claude-0wb","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:36:18.776661-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-0zw","title":"[TDD-DOC-06] GREEN: Installation Guide","description":"Write docs/getting-started/installation.mdx - npm/pnpm install, peer dependencies, Cloudflare setup","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:25.886675-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:49:17.188621-06:00","closed_at":"2026-01-06T09:49:17.188621-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-0zw","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:32.195975-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-12a","title":"[EPIC] Node Runtime Adapter","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-06T14:34:44.29158-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:11:10.038361-06:00","closed_at":"2026-01-06T15:11:10.038361-06:00","close_reason":"All TDD children completed","dependencies":[{"issue_id":"claude-12a","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:42:17.349025-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-12a.1","title":"TDD: NodeRuntime.exec()","description":"## RED Phase\n- Test exec() with child_process.exec\n- Test promisified API\n- Test timeout handling\n\n## GREEN Phase\n- Implement with util.promisify(exec)\n- Handle buffers\n\n## REFACTOR Phase\n- Error normalization","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T14:41:40.324891-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:05:45.733467-06:00","closed_at":"2026-01-06T15:05:45.733467-06:00","close_reason":"NodeRuntime.exec() implemented with TDD","dependencies":[{"issue_id":"claude-12a.1","depends_on_id":"claude-12a","type":"parent-child","created_at":"2026-01-06T14:41:40.325868-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-12a.1","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:41:40.327192-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-12a.2","title":"TDD: NodeRuntime.startProcess()","description":"## RED Phase\n- Test spawn() returns RuntimeProcess\n- Test stdout/stderr as ReadableStream\n- Test Web Streams from Node streams\n\n## GREEN Phase\n- Use child_process.spawn\n- Convert with Readable.toWeb()\n\n## REFACTOR Phase\n- Process tracking\n- Cleanup handling","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T14:41:46.433198-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:06:57.375703-06:00","closed_at":"2026-01-06T15:06:57.375703-06:00","close_reason":"NodeRuntime.startProcess() implemented with TDD - 48 tests passing","dependencies":[{"issue_id":"claude-12a.2","depends_on_id":"claude-12a","type":"parent-child","created_at":"2026-01-06T14:41:46.43408-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-12a.2","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:41:46.435281-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-12a.3","title":"TDD: NodeRuntime file operations","description":"## RED Phase\n- Test fs/promises integration\n- Test readFile/writeFile\n\n## GREEN Phase\n- Implement with fs/promises\n\n## REFACTOR Phase\n- Path validation","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T14:41:53.372817-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:06:37.97747-06:00","closed_at":"2026-01-06T15:06:37.97747-06:00","close_reason":"NodeRuntime file operations implemented with TDD","dependencies":[{"issue_id":"claude-12a.3","depends_on_id":"claude-12a","type":"parent-child","created_at":"2026-01-06T14:41:53.373905-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-12a.3","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:41:53.375412-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-12y","title":"[TDD-04] Input Sanitization","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:05:00.983032-06:00","updated_at":"2026-01-06T08:34:21.186213-06:00","closed_at":"2026-01-06T08:34:21.186213-06:00","close_reason":"TDD implementation complete - tests passing"}
{"id":"claude-1da","title":"[EPIC] Stability \u0026 Reliability","description":"Reliability fixes for production readiness. All follow TDD: Red → Green → Refactor.\n\n## Scope\n- Promise rejection handling\n- Race condition fixes\n- Memory leak prevention\n- Error handling improvements\n- Timeout handling\n\n## Success Criteria\n- No unhandled promise rejections\n- No race conditions under load\n- Bounded memory growth\n- Graceful error recovery","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T12:23:13.63859-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:44:25.425154-06:00","closed_at":"2026-01-06T13:44:25.425154-06:00","close_reason":"All sub-tasks completed - security hardening, type safety, stability, and feature gaps addressed","dependencies":[{"issue_id":"claude-1da","depends_on_id":"claude-vdk","type":"blocks","created_at":"2026-01-06T12:25:46.352149-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-1dq","title":"[EPIC] Feature Gaps for Production Readiness","description":"Critical missing features blocking production adoption. Mix of TDD and implementation tasks.\n\n## Scope\n- File operations API\n- Example application\n- Deployment configuration\n- Authentication\n\n## Success Criteria\n- Complete file operations\n- Users can deploy in \u003c30 min\n- Working example to fork","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T12:23:09.803563-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:44:25.425907-06:00","closed_at":"2026-01-06T13:44:25.425907-06:00","close_reason":"All sub-tasks completed - security hardening, type safety, stability, and feature gaps addressed","dependencies":[{"issue_id":"claude-1dq","depends_on_id":"claude-vdk","type":"blocks","created_at":"2026-01-06T12:26:01.880825-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-1f4","title":"[TDD-DOC-16] GREEN: Components Overview","description":"Write docs/terminal/components/index.mdx - overview of all React components","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:28.617003-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:58:19.073375-06:00","closed_at":"2026-01-06T09:58:19.073375-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-1f4","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:23.843273-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-1ym","title":"[Epic] Comprehensive Documentation","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T09:25:09.639753-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:34:53.226752-06:00","closed_at":"2026-01-06T10:34:53.226752-06:00","close_reason":"All 40 documentation TDD issues completed - comprehensive docs created with 34 MDX pages"}
{"id":"claude-21k","title":"[TDD-DOC-41] GREEN: Root Docs Landing","description":"Write docs/index.mdx and docs/meta.json - main documentation landing page","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:38.884609-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:15:04.221219-06:00","closed_at":"2026-01-06T10:15:04.221219-06:00","close_reason":"Root docs index.mdx already created","dependencies":[{"issue_id":"claude-21k","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:31:12.763344-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-24z","title":"[TDD-06] Message Type Guards","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:06:05.579796-06:00","updated_at":"2026-01-06T08:41:06.025831-06:00","closed_at":"2026-01-06T08:41:06.025831-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-24z","depends_on_id":"claude-nlk","type":"blocks","created_at":"2026-01-06T08:10:07.908936-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-25d","title":"RED: e2e-terminal-test - E2E tests for terminal functionality","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:35.200113-06:00","updated_at":"2026-01-06T07:31:58.572495-06:00","closed_at":"2026-01-06T07:31:58.572495-06:00","close_reason":"E2E terminal tests implemented","dependencies":[{"issue_id":"claude-25d","depends_on_id":"claude-i5y","type":"blocks","created_at":"2026-01-06T06:23:26.977195-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-26o","title":"TDD: BunRuntime integration test","description":"## RED Phase\n- Test spawning actual `echo` command\n- Test spawning `cat` for stdin/stdout\n- Test full Claude CLI spawn (if available)\n- Test working directory option\n\n## GREEN Phase\n- Integration tests with real processes\n- Verify stream parsing works\n\n## REFACTOR Phase\n- CI/CD compatibility\n- Mock mode for tests without Bun\n\n## Files\n- packages/sdk/src/runtimes/bun.integration.test.ts\n\n## Definition of Done\n- [ ] All RED tests written and failing\n- [ ] GREEN implementation passes all tests\n- [ ] REFACTOR cleanup complete\n- [ ] CI/CD pipeline configured","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:36:54.301073-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:48:21.13035-06:00","closed_at":"2026-01-06T15:48:21.13035-06:00","close_reason":"BunRuntime integration test TDD complete - 46 integration tests passing","dependencies":[{"issue_id":"claude-26o","depends_on_id":"claude-as1","type":"blocks","created_at":"2026-01-06T14:37:54.169834-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-26o","depends_on_id":"claude-dff","type":"blocks","created_at":"2026-01-06T14:38:05.021503-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-26o","depends_on_id":"claude-4gs","type":"blocks","created_at":"2026-01-06T14:38:10.196258-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-26o","depends_on_id":"claude-5mk","type":"blocks","created_at":"2026-01-06T14:38:15.367946-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-26o","depends_on_id":"claude-3cs","type":"blocks","created_at":"2026-01-06T14:38:20.543829-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-26o","depends_on_id":"claude-3d5","type":"blocks","created_at":"2026-01-06T14:38:25.716254-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-2bi","title":"[TDD-07] NDJSON Schema Validation","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:06:11.117759-06:00","updated_at":"2026-01-06T08:43:39.302045-06:00","closed_at":"2026-01-06T08:43:39.302045-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-2bi","depends_on_id":"claude-24z","type":"blocks","created_at":"2026-01-06T08:10:13.216208-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-2db","title":"TDD: ClaudeSession.events AsyncIterable","description":"## RED Phase\n- Test \\`for await (const event of session.events)\\`\n- Test yields SDKMessage objects\n- Test completes when session ends\n- Test throws on error\n- Test multiple consumers work\n\n## GREEN Phase\n- Implement AsyncGenerator\n- Parse NDJSON stream into events\n- Handle session lifecycle\n\n## REFACTOR Phase\n- Add event filtering option\n- Buffer management","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:29.724646-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:35:06.526207-06:00","closed_at":"2026-01-06T15:35:06.526207-06:00","close_reason":"ClaudeSession.events TDD complete","dependencies":[{"issue_id":"claude-2db","depends_on_id":"claude-a2y","type":"blocks","created_at":"2026-01-06T14:42:41.057218-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-2wq","title":"[TDD-DOC-15] GREEN: Terminal Overview","description":"Write docs/terminal/index.mdx - overview of terminal package and components","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:22.102409-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:58:19.071548-06:00","closed_at":"2026-01-06T09:58:19.071548-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-2wq","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:18.679988-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-3cs","title":"TDD: BunRuntime.streamProcessLogs()","description":"## RED Phase\n- Test returns ReadableStream\u003cUint8Array\u003e\n- Test streams stdout from running process\n- Test handles process exit gracefully\n- Test multiple readers work\n\n## GREEN Phase\n- Track process stdout streams\n- Return cloned/teed stream\n\n## REFACTOR Phase\n- Add backpressure handling\n- Memory efficiency\n\n## Files\n- packages/sdk/src/runtimes/bun.ts\n- packages/sdk/src/runtimes/bun.test.ts\n\n## Definition of Done\n- [ ] All RED tests written and failing\n- [ ] GREEN implementation passes all tests\n- [ ] REFACTOR cleanup complete","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:36:29.971201-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:39:13.135302-06:00","closed_at":"2026-01-06T15:39:13.135302-06:00","close_reason":"BunRuntime.streamProcessLogs() TDD complete","dependencies":[{"issue_id":"claude-3cs","depends_on_id":"claude-as1","type":"blocks","created_at":"2026-01-06T14:37:43.839898-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-3cs","depends_on_id":"claude-4gs","type":"blocks","created_at":"2026-01-06T14:38:42.802948-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-3d5","title":"TDD: BunRuntime.kill()","description":"## RED Phase\n- Test kill(processId) terminates process\n- Test kill with signal option (SIGTERM, SIGKILL)\n- Test kill non-existent process doesn't throw\n\n## GREEN Phase\n- Implement using process.kill()\n- Track process state\n\n## REFACTOR Phase\n- Graceful shutdown with timeout\n- Cleanup tracking\n\n## Files\n- packages/sdk/src/runtimes/bun.ts\n- packages/sdk/src/runtimes/bun.test.ts\n\n## Definition of Done\n- [ ] All RED tests written and failing\n- [ ] GREEN implementation passes all tests\n- [ ] REFACTOR cleanup complete","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:36:41.802448-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:39:33.224828-06:00","closed_at":"2026-01-06T15:39:33.224828-06:00","close_reason":"BunRuntime.kill() TDD complete: Added signal parameter support (SIGTERM default, SIGKILL, SIGINT). All tests passing (71/71).","dependencies":[{"issue_id":"claude-3d5","depends_on_id":"claude-as1","type":"blocks","created_at":"2026-01-06T14:37:49.005804-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-3d5","depends_on_id":"claude-4gs","type":"blocks","created_at":"2026-01-06T14:38:47.980332-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-3i1","title":"GREEN: rpc-server-impl - Implement capnweb RPC server","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:20:34.714248-06:00","updated_at":"2026-01-06T07:20:10.049999-06:00","closed_at":"2026-01-06T07:20:10.049999-06:00","close_reason":"RPC server fully implemented in server.ts: ClaudeCodeRpcServer extends RpcTarget with all session management, messaging (with callbacks), control, and info methods. Includes createRpcHandler and createRpcServer factory functions.","dependencies":[{"issue_id":"claude-3i1","depends_on_id":"claude-xjh","type":"blocks","created_at":"2026-01-06T06:22:27.387982-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-3ul","title":"[TDD-10] Callback Error Propagation","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:07:19.485924-06:00","updated_at":"2026-01-06T08:41:06.026908-06:00","closed_at":"2026-01-06T08:41:06.026908-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-3ul","depends_on_id":"claude-jkr","type":"blocks","created_at":"2026-01-06T08:10:30.216411-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-4ax","title":"[TDD-DOC-19] GREEN: FileTree Component","description":"Write docs/terminal/components/filetree.mdx - FileTree props, FileNode type, expansion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:48.99123-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:05:00.478807-06:00","closed_at":"2026-01-06T10:05:00.478807-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-4ax","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:39.371362-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-4g1","title":"[TDD-DOC-27] GREEN: Authentication Guide","description":"Write docs/guides/authentication.mdx - adding JWT/API key auth to deployment","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:32.90418-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:08:47.461004-06:00","closed_at":"2026-01-06T10:08:47.461004-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-4g1","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:20.854248-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-4g9","title":"TDD: WebSocket disconnect handling","description":"## Problem\nWebSocket proxy lacks proper error handling for:\n- Unexpected disconnects\n- Network failures\n- Server-side closes\n\n## TDD Approach\n### RED Phase\n- Write test: server closes connection → client notified\n- Write test: network timeout → reconnection attempted\n- Write test: invalid message received → graceful handling\n\n### GREEN Phase\n- Add onerror/onclose handlers\n- Implement reconnection logic\n- Buffer messages during reconnect\n\n### REFACTOR Phase\n- Connection state machine\n- Exponential backoff\n- Add connection health check\n\n## Files\n- packages/sdk/src/terminal/websocket-proxy.ts\n- packages/sdk/src/client/reconnect.ts (already exists!)\n\n## Definition of Done\n- [ ] Disconnect scenario tests (RED)\n- [ ] Reconnection implemented (GREEN)\n- [ ] State machine documented (REFACTOR)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T12:23:57.878776-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T12:50:10.458612-06:00","closed_at":"2026-01-06T12:50:10.458612-06:00","close_reason":"Closed"}
{"id":"claude-4gs","title":"TDD: BunRuntime.startProcess()","description":"## RED Phase\n- Test startProcess() returns RuntimeProcess\n- Test process.id is string (pid)\n- Test process.stdout is ReadableStream\n- Test process.stderr is ReadableStream\n- Test process.exited is Promise\u003cnumber\u003e\n- Test env option works\n\n## GREEN Phase\n- Implement startProcess() with Bun.spawn\n- Track spawned processes for cleanup\n- Return proper RuntimeProcess shape\n\n## REFACTOR Phase\n- Add process registry for cleanup\n- Handle orphan processes\n\n## Files\n- packages/sdk/src/runtimes/bun.ts\n- packages/sdk/src/runtimes/bun.test.ts\n\n## Definition of Done\n- [ ] All RED tests written and failing\n- [ ] GREEN implementation passes all tests\n- [ ] REFACTOR cleanup complete","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:36:05.589186-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:32:08.112769-06:00","closed_at":"2026-01-06T15:32:08.112769-06:00","close_reason":"BunRuntime.startProcess() TDD complete","dependencies":[{"issue_id":"claude-4gs","depends_on_id":"claude-as1","type":"blocks","created_at":"2026-01-06T14:37:33.506573-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-4gs","depends_on_id":"claude-dff","type":"blocks","created_at":"2026-01-06T14:38:37.62422-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-4h5","title":"[TDD-11] WebSocket Lifecycle Management","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:07:25.032172-06:00","updated_at":"2026-01-06T08:43:39.304041-06:00","closed_at":"2026-01-06T08:43:39.304041-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-4h5","depends_on_id":"claude-3ul","type":"blocks","created_at":"2026-01-06T08:10:35.402197-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-5mk","title":"TDD: BunRuntime.readFile/writeFile","description":"## RED Phase\n- Test readFile() returns string content\n- Test readFile() throws on missing file\n- Test writeFile() creates file\n- Test writeFile() overwrites existing\n- Test writeFile() handles Uint8Array\n\n## GREEN Phase\n- Implement using Bun.file().text()\n- Implement using Bun.write()\n\n## REFACTOR Phase\n- Add path validation\n- Handle encoding options\n\n## Files\n- packages/sdk/src/runtimes/bun.ts\n- packages/sdk/src/runtimes/bun.test.ts\n\n## Definition of Done\n- [ ] All RED tests written and failing\n- [ ] GREEN implementation passes all tests\n- [ ] REFACTOR cleanup complete","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:36:18.698207-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:08:49.537932-06:00","closed_at":"2026-01-06T15:08:49.537932-06:00","close_reason":"BunRuntime file operations implemented with TDD","dependencies":[{"issue_id":"claude-5mk","depends_on_id":"claude-as1","type":"blocks","created_at":"2026-01-06T14:37:38.670345-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-5n2","title":"RED: sdk-client-test - Tests for ClaudeClient","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:20:55.459476-06:00","updated_at":"2026-01-06T07:19:38.404255-06:00","closed_at":"2026-01-06T07:19:38.404255-06:00","close_reason":"ClaudeClient tests are complete and passing. Found 20 tests in /packages/sdk/src/client/index.test.ts covering constructor, connect/disconnect, session management (createSession, getSession, resumeSession, listSessions, destroySession), messaging (sendMessage, query), currentSession tracking, and ClaudeClientError.","dependencies":[{"issue_id":"claude-5n2","depends_on_id":"claude-eg0","type":"blocks","created_at":"2026-01-06T06:22:47.012068-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-5rc","title":"[TDD-17] React Error Boundaries","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:09:19.530034-06:00","updated_at":"2026-01-06T08:43:39.30514-06:00","closed_at":"2026-01-06T08:43:39.30514-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-5rc","depends_on_id":"claude-3ul","type":"blocks","created_at":"2026-01-06T08:11:14.363476-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-68m","title":"TDD: Type validators for tool inputs","description":"## Problem\nTool inputs cast without validation:\n```typescript\nconst input = block.input as { todos?: TodoItem[] }\n```\nMalformed input could cause runtime errors.\n\n## TDD Approach\n### RED Phase\n- Write test: TodoWrite with invalid todos → should handle gracefully\n- Write test: Write with missing file_path → should handle gracefully\n- Write test: valid input → should work\n\n### GREEN Phase\n- Add isTodoWriteInput, isWriteInput, etc.\n- Use guards before accessing properties\n- Return undefined for invalid inputs\n\n### REFACTOR Phase\n- Generate validators from tool schemas\n- Add tool input type exports\n- Document tool input types\n\n## Files\n- packages/sdk/src/types/guards.ts\n- packages/sdk/src/server/ndjson-parser.ts (use guards)\n\n## Definition of Done\n- [ ] Invalid input tests (RED)\n- [ ] Guards for each tool type (GREEN)\n- [ ] Guards auto-generated if possible (REFACTOR)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:24:31.011598-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:24:01.405894-06:00","closed_at":"2026-01-06T13:24:01.405894-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-68m","depends_on_id":"claude-82x","type":"blocks","created_at":"2026-01-06T12:26:13.432316-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-6m9","title":"[TDD-DOC-31] GREEN: Basic Chat Example","description":"Write docs/examples/basic-chat.mdx - simple chat interface tutorial","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:00.806042-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:11:48.974415-06:00","closed_at":"2026-01-06T10:11:48.974415-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-6m9","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:41.696503-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-6rv","title":"TDD: Unhandled promise rejection in streamProcessOutput","description":"## Problem\npackages/sdk/src/server/claude-code.ts:494-496 - Promise rejection only logged, not propagated:\n```typescript\nthis.streamProcessOutput(session.id, processId).catch(error =\u003e {\n  console.error(`Stream error for session ${session.id}:`, error)\n})\n```\n\n## TDD Approach\n### RED Phase\n- Write test: stream throws → session should enter error state\n- Write test: stream disconnects → should trigger cleanup\n- Write test: multiple stream errors → should not leak resources\n\n### GREEN Phase\n- Update session state on stream error\n- Trigger error callbacks to client\n- Clean up resources on failure\n\n### REFACTOR Phase\n- Centralized async error boundary\n- Error event emission pattern\n- Add error recovery strategy\n\n## Files\n- packages/sdk/src/server/claude-code.ts:494-496\n- packages/sdk/src/server/process-manager.ts\n\n## Definition of Done\n- [ ] Tests for stream error scenarios (RED)\n- [ ] Session state updated on errors (GREEN)\n- [ ] Error handling pattern documented (REFACTOR)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T12:23:25.181883-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T12:50:54.793937-06:00","closed_at":"2026-01-06T12:50:54.793937-06:00","close_reason":"Closed"}
{"id":"claude-6vx","title":"TDD: Implement file operations API","description":"## Problem\nFile listing/reading not implemented in DO:\n- Users can't browse files\n- Can't display file trees\n- 50% of use cases blocked\n\n## TDD Approach\n### RED Phase\n- Write test: listFiles('/') → returns array of FileInfo\n- Write test: readFile('/package.json') → returns content\n- Write test: listFiles for non-existent path → returns error\n\n### GREEN Phase\n- Add listFiles(path, options) to ClaudeCode DO\n- Add readFile(path) for file content\n- Integrate with Sandbox.exec or file API\n\n### REFACTOR Phase\n- Add pagination for large directories\n- Add streaming for large files\n- Add file watching (optional)\n\n## Files\n- packages/sdk/src/server/claude-code.ts\n- packages/sdk/src/rpc/interfaces.ts\n- packages/sdk/src/client/index.ts\n\n## Definition of Done\n- [ ] File operation tests (RED)\n- [ ] Operations implemented (GREEN)\n- [ ] Pagination/streaming (REFACTOR)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T12:23:20.382007-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:39:06.400641-06:00","closed_at":"2026-01-06T13:39:06.400641-06:00","close_reason":"Closed"}
{"id":"claude-73z","title":"[TDD-DOC-25] GREEN: Guides Overview","description":"Write docs/guides/index.mdx - overview of deployment and integration guides","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:20.518957-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:08:47.458684-06:00","closed_at":"2026-01-06T10:08:47.458684-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-73z","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:10.476937-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-7h7","title":"[TDD-03] CORS Origin Validation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T08:04:54.792478-06:00","updated_at":"2026-01-06T08:34:21.184828-06:00","closed_at":"2026-01-06T08:34:21.184828-06:00","close_reason":"TDD implementation complete - tests passing"}
{"id":"claude-7hy","title":"TDD: RPC call timeout handling","description":"## Problem\nRPC calls can hang forever if server doesn't respond:\n- No timeout on stub method calls\n- No abort mechanism\n- Client stuck waiting\n\n## TDD Approach\n### RED Phase\n- Write test: RPC call with no response → should timeout\n- Write test: timeout configurable per-call\n- Write test: timeout should trigger cleanup\n\n### GREEN Phase\n- Add timeout wrapper for RPC calls\n- Integrate with AbortController pattern\n- Add per-method timeout config\n\n### REFACTOR Phase\n- Timeout propagation through call chain\n- Add timeout metrics\n- Document timeout best practices\n\n## Files\n- packages/sdk/src/rpc/index.ts\n- packages/sdk/src/client/index.ts\n\n## Definition of Done\n- [ ] Timeout behavior tests (RED)\n- [ ] Timeout mechanism implemented (GREEN)\n- [ ] Timeout configuration documented (REFACTOR)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T12:24:10.516696-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T12:51:16.740746-06:00","closed_at":"2026-01-06T12:51:16.740746-06:00","close_reason":"Closed"}
{"id":"claude-7p4","title":"[TDD-DOC-29] GREEN: Streaming Responses","description":"Write docs/guides/streaming.mdx - WebSocket vs SSE, callbacks, real-time updates","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:45.955724-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:11:48.971549-06:00","closed_at":"2026-01-06T10:11:48.971549-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-7p4","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:31.291987-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-81i","title":"RED: e2e-chat-test - E2E tests for chat functionality","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:42.183496-06:00","updated_at":"2026-01-06T07:31:55.220335-06:00","closed_at":"2026-01-06T07:31:55.220335-06:00","close_reason":"E2E chat tests implemented","dependencies":[{"issue_id":"claude-81i","depends_on_id":"claude-i5y","type":"blocks","created_at":"2026-01-06T06:23:33.226078-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-82x","title":"TDD: Strengthen type guards with full validation","description":"## Problem\nCurrent guards only check .type field:\n```typescript\nexport function isAssistantMessage(msg: SDKMessage): msg is SDKAssistantMessage {\n  return msg.type === 'assistant'\n}\n```\nMissing validation: message structure, content array, required fields.\n\n## TDD Approach\n### RED Phase\n- Write test: object with only {type:'assistant'} → should fail\n- Write test: missing message.content → should fail\n- Write test: content not array → should fail\n- Write test: valid full structure → should pass\n\n### GREEN Phase\n- Add full structure validation\n- Check nested required fields\n- Validate array types\n\n### REFACTOR Phase\n- Consider validation library (Zod/Valibot)\n- Generate guards from types if possible\n- Add detailed error messages\n\n## Files\n- packages/sdk/src/types/guards.ts\n- packages/sdk/src/types/guards.test.ts\n\n## Definition of Done\n- [ ] Comprehensive guard tests (RED)\n- [ ] Full structure validation (GREEN)\n- [ ] Validation approach documented (REFACTOR)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:23:30.934466-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:20:34.375657-06:00","closed_at":"2026-01-06T13:20:34.375657-06:00","close_reason":"Closed"}
{"id":"claude-85z","title":"[TDD-DOC-07] GREEN: Quick Start Tutorial","description":"Write docs/getting-started/quick-start.mdx - 5-minute tutorial to get first session running","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:31.860054-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:49:17.189529-06:00","closed_at":"2026-01-06T09:49:17.189529-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-85z","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:37.364402-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-879","title":"[EPIC] Package Subpath Exports","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T14:34:36.312341-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:19:12.587348-06:00","closed_at":"2026-01-06T15:19:12.587348-06:00","close_reason":"All TDD children completed","dependencies":[{"issue_id":"claude-879","depends_on_id":"claude-0k3","type":"blocks","created_at":"2026-01-06T14:42:25.650193-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-879","depends_on_id":"claude-12a","type":"blocks","created_at":"2026-01-06T14:42:32.384744-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-879","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:42:46.509535-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-879.1","title":"TDD: Subpath exports configuration","description":"## RED Phase\n- Test `import { BunRuntime } from '@dotdo/claude/bun'`\n- Test `import { CloudflareRuntime } from '@dotdo/claude/cloudflare'`\n- Test `import { ClaudeSession } from '@dotdo/claude'`\n- Test `import { NodeRuntime } from '@dotdo/claude/node'`\n\n## GREEN Phase\n- Configure package.json exports field\n- Set up tsup entry points\n- Configure TypeScript paths\n\n## REFACTOR Phase\n- Verify tree-shaking\n- Test bundle sizes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:41:04.721193-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:18:33.497544-06:00","closed_at":"2026-01-06T15:18:33.497544-06:00","close_reason":"Subpath exports configuration TDD complete","dependencies":[{"issue_id":"claude-879.1","depends_on_id":"claude-879","type":"parent-child","created_at":"2026-01-06T14:41:04.722733-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-879.2","title":"TDD: Conditional exports","description":"## RED Phase\n- Test Bun runtime auto-detected in Bun\n- Test Node runtime available in Node\n- Test Cloudflare available in Workers\n\n## GREEN Phase\n- Configure conditions in exports\n- Runtime detection\n\n## REFACTOR Phase\n- Fallback behavior\n- Clear error messages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:41:10.985667-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:15:18.022858-06:00","closed_at":"2026-01-06T15:15:18.022858-06:00","close_reason":"Conditional exports TDD complete - added tests for import/require/types conditions, runtime-specific subpath exports (bun, node, cloudflare), middleware and utils subpaths","dependencies":[{"issue_id":"claude-879.2","depends_on_id":"claude-879","type":"parent-child","created_at":"2026-01-06T14:41:10.986695-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-879.3","title":"TDD: Main export compatibility","description":"## RED Phase\n- Test default import still works\n- Test all current exports available\n- Test types are exported\n\n## GREEN Phase\n- Main barrel export includes everything\n- Backward compatible\n\n## REFACTOR Phase\n- Organize exports logically\n- Document in README","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:41:17.147785-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:16:14.623038-06:00","closed_at":"2026-01-06T15:16:14.623038-06:00","close_reason":"Main export compatibility TDD complete","dependencies":[{"issue_id":"claude-879.3","depends_on_id":"claude-879","type":"parent-child","created_at":"2026-01-06T14:41:17.149152-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-879.4","title":"TDD: TypeScript declaration files","description":"## RED Phase\n- Test .d.ts files generated for all subpaths\n- Test types resolve correctly\n- Test IDE autocomplete works\n\n## GREEN Phase\n- Configure tsup for declarations\n- Multiple entry point types\n\n## REFACTOR Phase\n- Verify no type errors downstream","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T14:41:24.643923-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:16:57.936494-06:00","closed_at":"2026-01-06T15:16:57.936494-06:00","close_reason":"TypeScript declarations TDD complete","dependencies":[{"issue_id":"claude-879.4","depends_on_id":"claude-879","type":"parent-child","created_at":"2026-01-06T14:41:24.644892-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-8bh","title":"[TDD-DOC-02] RED: Docs Link Validation","description":"Create test that validates all internal links in MDX files resolve to existing pages","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T09:26:16.350629-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:46:53.110999-06:00","closed_at":"2026-01-06T09:46:53.110999-06:00","close_reason":"RED tests created in docs/__tests__/"}
{"id":"claude-8dv","title":"RED: rpc-server-test - Tests for capnweb RPC server (Durable Object)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:20:28.041682-06:00","updated_at":"2026-01-06T07:32:47.990406-06:00","closed_at":"2026-01-06T07:32:47.990406-06:00","close_reason":"RPC server tests complete for ClaudeCodeRpcServer","dependencies":[{"issue_id":"claude-8dv","depends_on_id":"claude-xjh","type":"blocks","created_at":"2026-01-06T06:22:21.189128-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-8y0","title":"[TDD-DOC-21] GREEN: DiffViewer Component","description":"Write docs/terminal/components/diff-viewer.mdx - DiffViewer props, unified vs split view","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:02.393873-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:06:50.497006-06:00","closed_at":"2026-01-06T10:06:50.497006-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-8y0","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:49.722834-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-97g","title":"[TDD-DOC-28] GREEN: Session Management","description":"Write docs/guides/session-management.mdx - lifecycle, TTL, cleanup, persistence","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:39.268495-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:08:47.461777-06:00","closed_at":"2026-01-06T10:08:47.461777-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-97g","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:26.063744-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-9gv","title":"TDD: ClaudeSession.interrupt()","description":"## RED Phase\n- Test interrupt() sends SIGINT\n- Test interrupt() sets state to 'interrupted'\n- Test interrupt() on completed session is no-op\n- Test Escape key simulation\n\n## GREEN Phase\n- Send signal via ProcessManager\n- Update state\n\n## REFACTOR Phase\n- Graceful interrupt with timeout\n- Force kill option","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:44.021708-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:33:12.310836-06:00","closed_at":"2026-01-06T15:33:12.310836-06:00","close_reason":"ClaudeSession.interrupt() TDD complete","dependencies":[{"issue_id":"claude-9gv","depends_on_id":"claude-a2y","type":"blocks","created_at":"2026-01-06T14:42:54.84914-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-9sd","title":"[TDD-DOC-37] REFACTOR: Documentation Cross-Linking","description":"Add comprehensive cross-links between related docs pages, ensure all 'Next Steps' sections link appropriately","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T09:26:14.088716-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:19:52.993816-06:00","closed_at":"2026-01-06T10:19:52.993816-06:00","close_reason":"REFACTOR improvements applied","dependencies":[{"issue_id":"claude-9sd","depends_on_id":"claude-21k","type":"blocks","created_at":"2026-01-06T09:29:28.891357-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-9w9","title":"TDD: Define Runtime interface","description":"## RED Phase\n- Test that imports `Runtime` type from `@dotdo/claude`\n- Test interface has: exec(), startProcess(), readFile(), writeFile()\n- Test optional methods: streamProcessLogs(), kill()\n- Test RuntimeProcess interface: id, stdout, stderr, exited\n\n## GREEN Phase\n- Create `src/types/runtime.ts`\n- Define `Runtime` interface\n- Define `RuntimeProcess` interface\n- Export from `src/types/index.ts`\n\n## REFACTOR Phase\n- Add comprehensive JSDoc\n- Add usage examples in comments\n- Ensure compatibility with existing Sandbox shape","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:35:17.611114-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:58:32.755449-06:00","closed_at":"2026-01-06T14:58:32.755449-06:00","close_reason":"Runtime interface defined with TDD: Runtime, RuntimeProcess, ExecResult interfaces with isExecResult type guard. Sandbox refactored to CloudflareRuntime for Cloudflare-specific types.","dependencies":[{"issue_id":"claude-9w9","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:36:05.710927-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-9yy","title":"[TDD-DOC-23] GREEN: Theme System","description":"Write docs/terminal/themes.mdx - ThemeProvider, useTheme, ThemeColors, dark/light modes","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:16.499999-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:06:50.499154-06:00","closed_at":"2026-01-06T10:06:50.499154-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-9yy","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:00.098251-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-a2y","title":"TDD: ClaudeSession.start()","description":"## RED Phase\n- Test start() spawns Claude CLI process\n- Test start() with custom args\n- Test start() sets session state to 'active'\n- Test calling start() twice throws\n- Test process output is captured\n\n## GREEN Phase\n- Spawn process via ProcessManager\n- Set up NDJSON parser on output\n- Track session state\n\n## REFACTOR Phase\n- Add startup timeout\n- Handle spawn failures gracefully","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:15.197848-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:14:35.412511-06:00","closed_at":"2026-01-06T15:14:35.412511-06:00","close_reason":"ClaudeSession.start() TDD complete","dependencies":[{"issue_id":"claude-a2y","depends_on_id":"claude-and","type":"blocks","created_at":"2026-01-06T14:42:26.207791-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-a3w","title":"GREEN: rpc-client-impl - Implement capnweb RPC client","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:20:21.150642-06:00","updated_at":"2026-01-06T07:20:17.07583-06:00","closed_at":"2026-01-06T07:20:17.07583-06:00","close_reason":"RPC client fully implemented in index.ts: RpcSession class with state management, connect/disconnect, WebSocket handling, stub creation via Proxy, RPC call handling with request/response correlation, and reconnection support. Factory functions createRpcSession and newWebSocketRpcSession included.","dependencies":[{"issue_id":"claude-a3w","depends_on_id":"claude-xjh","type":"blocks","created_at":"2026-01-06T06:22:14.857864-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-acd","title":"[TDD-DOC-18] GREEN: Chat Component","description":"Write docs/terminal/components/chat.mdx - Chat component props, message types, markdown","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:41.501233-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:05:00.476183-06:00","closed_at":"2026-01-06T10:05:00.476183-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-acd","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:34.193298-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-afv","title":"[TDD-DOC-12] GREEN: RPC Layer","description":"Write docs/sdk/rpc.mdx - RpcSession, capnweb integration, IClaudeCodeRpc interface","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:03.853329-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:56:15.083259-06:00","closed_at":"2026-01-06T09:56:15.083259-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-afv","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:03.178224-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-and","title":"TDD: ClaudeSession constructor","description":"## RED Phase\n- Test constructor accepts Runtime instance\n- Test constructor accepts ClaudeSessionOptions (cwd, model, etc)\n- Test throws if runtime is null/undefined\n- Test default options are applied\n- Test session ID is generated\n\n## GREEN Phase\n- Create `src/session/index.ts`\n- Implement ClaudeSession class\n- Accept Runtime in constructor\n- Initialize ProcessManager internally\n\n## REFACTOR Phase\n- Validate options with existing validators\n- Add JSDoc with examples","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:08.006695-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:09:09.614457-06:00","closed_at":"2026-01-06T15:09:09.614457-06:00","close_reason":"ClaudeSession constructor implemented with Runtime support","dependencies":[{"issue_id":"claude-and","depends_on_id":"claude-r8f","type":"blocks","created_at":"2026-01-06T14:42:20.034791-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-as1","title":"[EPIC] Bun Runtime Adapter","description":"## Context\nWe're adding Bun as a first-class runtime for spawning Claude CLI processes locally.\n\n## Goals\n- Implement RuntimeInterface for Bun runtime\n- Support process spawning, file I/O, and stream handling\n- Enable local development without Cloudflare Workers\n- Follow TDD methodology for all implementation\n\n## Child Issues\n- TDD: BunRuntime.exec()\n- TDD: BunRuntime.startProcess()\n- TDD: BunRuntime.readFile/writeFile\n- TDD: BunRuntime.streamProcessLogs()\n- TDD: BunRuntime.kill()\n- TDD: BunRuntime integration test","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:35:22.576973-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:05:18.712668-06:00","closed_at":"2026-01-06T15:05:18.712668-06:00","close_reason":"EPIC approved - children ready for TDD implementation","dependencies":[{"issue_id":"claude-as1","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:37:17.662468-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-b4v","title":"[TDD-DOC-38] REFACTOR: Enhance Code Examples","description":"Review all code examples for clarity, add comments, ensure they show best practices","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T09:26:20.218781-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:19:53.008603-06:00","closed_at":"2026-01-06T10:19:53.008603-06:00","close_reason":"REFACTOR improvements applied","dependencies":[{"issue_id":"claude-b4v","depends_on_id":"claude-21k","type":"blocks","created_at":"2026-01-06T09:29:34.060893-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-bne","title":"RED: sdk-types-test - Tests for SDK types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:08.752426-06:00","updated_at":"2026-01-06T07:19:15.733137-06:00","closed_at":"2026-01-06T07:19:15.733137-06:00","close_reason":"SDK types tests are complete and passing. Found 22 tests in /packages/sdk/src/types/index.test.ts covering Session, Message, ContentBlock, FileNode, FileDiff, StreamEvent, ClaudeConfig, ServerConfig, and ApiError types.","dependencies":[{"issue_id":"claude-bne","depends_on_id":"claude-eg0","type":"blocks","created_at":"2026-01-06T06:23:00.110543-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-btb","title":"GREEN: sdk-client-impl - Implement ClaudeClient","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:02.0611-06:00","updated_at":"2026-01-06T07:19:30.694846-06:00","closed_at":"2026-01-06T07:19:30.694846-06:00","close_reason":"ClaudeClient is fully implemented in /packages/sdk/src/client/index.ts with session management (createSession, getSession, resumeSession, listSessions, destroySession), messaging (sendMessage, query), callbacks (StreamCallbackHandler), and connection handling. Supports WebSocket and HTTP transports via capnweb.","dependencies":[{"issue_id":"claude-btb","depends_on_id":"claude-eg0","type":"blocks","created_at":"2026-01-06T06:22:53.343831-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-bwr","title":"TDD: PostMessage origin validation","description":"## Problem\nPostMessage accepts messages from any origin, allowing malicious sites to inject commands.\n\n## TDD Approach\n### RED Phase\n- Write test: malicious origin sends postMessage → should be rejected\n- Write test: allowed origin sends postMessage → should work\n- Write test: null origin (sandboxed iframe) → should be configurable\n\n### GREEN Phase\n- Add origin whitelist configuration\n- Validate event.origin before processing\n- Reject unknown origins with warning\n\n### REFACTOR Phase\n- Extract origin validation utility\n- Add configurable allowed origins list\n- Add logging for rejected origins\n\n## Files\n- packages/terminal/src/app/App.tsx (if using postMessage)\n- packages/sdk/src/rpc/*.ts\n\n## Definition of Done\n- [ ] Failing tests written (RED)\n- [ ] Tests passing with minimal fix (GREEN)\n- [ ] Code cleaned up and documented (REFACTOR)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-06T12:23:23.113396-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:20:34.37311-06:00","closed_at":"2026-01-06T13:20:34.37311-06:00","close_reason":"Closed"}
{"id":"claude-cb1","title":"[TDD-DOC-17] GREEN: Terminal Component","description":"Write docs/terminal/components/terminal.mdx - Terminal (xterm.js) props, theming, WebSocket","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:34.826187-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:05:00.473656-06:00","closed_at":"2026-01-06T10:05:00.473656-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-cb1","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:29.017176-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-cmy","title":"TDD: NDJSON parser schema validation before cast","description":"## Problem\nParser validates type field but then casts entire object:\n```typescript\ncase 'assistant':\n  return data as SDKMessage  // No structure validation!\n```\n\n## TDD Approach\n### RED Phase\n- Write test: {type:'assistant'} (no message) → should fail\n- Write test: {type:'result', subtype:'invalid'} → should fail\n- Write test: malformed content blocks → should fail\n\n### GREEN Phase\n- Add structure validation per message type\n- Use type guards for each variant\n- Return null for invalid structure (with warning)\n\n### REFACTOR Phase\n- Use discriminated union validators\n- Consider schema-first approach\n- Add parse error details for debugging\n\n## Files\n- packages/sdk/src/server/ndjson-parser.ts:83-108\n- packages/sdk/src/server/ndjson-parser.test.ts\n\n## Definition of Done\n- [ ] Schema mismatch tests (RED)\n- [ ] Per-type validation (GREEN)\n- [ ] Validation reusable (REFACTOR)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:24:02.65041-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:23:57.132618-06:00","closed_at":"2026-01-06T13:23:57.132618-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-cmy","depends_on_id":"claude-82x","type":"blocks","created_at":"2026-01-06T12:26:08.257396-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-cux","title":"RED: rpc-client-test - Tests for capnweb RPC client","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:20:14.270521-06:00","updated_at":"2026-01-06T07:20:24.002556-06:00","closed_at":"2026-01-06T07:20:24.002556-06:00","close_reason":"Client tests complete: 20 passing tests in index.test.ts covering RpcTarget, RpcSession state management, connect/disconnect, getStub, RPC calls (send/receive), error handling, state change subscription, message subscription, send method, createRpcSession and newWebSocketRpcSession factories.","dependencies":[{"issue_id":"claude-cux","depends_on_id":"claude-xjh","type":"blocks","created_at":"2026-01-06T06:22:08.539262-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-d8s","title":"[TDD-14] Session Persistence \u0026 Recovery","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:09:02.710607-06:00","updated_at":"2026-01-06T09:11:03.318845-06:00","closed_at":"2026-01-06T09:11:03.318845-06:00","close_reason":"Covered by existing comprehensive tests - 180 SDK tests + 147 terminal tests all passing","dependencies":[{"issue_id":"claude-d8s","depends_on_id":"claude-uhv","type":"blocks","created_at":"2026-01-06T08:10:57.43089-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-dff","title":"TDD: BunRuntime.exec()","description":"## RED Phase\n- Test exec() runs shell command\n- Test returns { exitCode, stdout, stderr }\n- Test timeout option kills process\n- Test env option passes environment variables\n- Test command failure returns non-zero exitCode\n\n## GREEN Phase\n- Create `src/runtimes/bun.ts`\n- Implement exec() using Bun.spawn(['sh', '-c', cmd])\n- Handle stdout/stderr as text\n- Implement timeout with AbortController\n\n## REFACTOR Phase\n- Add error types for timeout, spawn failure\n- Optimize buffer handling\n\n## Files\n- packages/sdk/src/runtimes/bun.ts\n- packages/sdk/src/runtimes/bun.test.ts\n\n## Definition of Done\n- [ ] All RED tests written and failing\n- [ ] GREEN implementation passes all tests\n- [ ] REFACTOR cleanup complete","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:35:51.77979-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:12:15.911542-06:00","closed_at":"2026-01-06T15:12:15.911542-06:00","close_reason":"BunRuntime.exec() TDD complete","dependencies":[{"issue_id":"claude-dff","depends_on_id":"claude-as1","type":"blocks","created_at":"2026-01-06T14:37:28.33747-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-dr9","title":"[TDD-02] API Key Validation","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T08:04:49.183122-06:00","updated_at":"2026-01-06T08:34:21.183497-06:00","closed_at":"2026-01-06T08:34:21.183497-06:00","close_reason":"TDD implementation complete - tests passing"}
{"id":"claude-e5g","title":"TDD: Comprehensive ClaudeCodeOptions validation","description":"## Problem\nvalidateOptions() only validates known fields, silently accepting:\n- Extra unknown fields (potential injection vector)\n- Wrong types for fields\n- Malicious values\n\n## TDD Approach\n### RED Phase\n- Write test: unknown field 'evil' → should reject or warn\n- Write test: cwd with path traversal → should reject\n- Write test: model with invalid value → should reject\n- Write test: allowedTools with injection → should reject\n\n### GREEN Phase\n- Add strict validation for all fields\n- Add path sanitization for cwd\n- Add enum validation for known values\n- Option for strict mode (reject unknown) vs permissive (warn)\n\n### REFACTOR Phase\n- Consider Zod schema for validation\n- Add validation error types\n- Add helpful error messages\n\n## Files\n- packages/sdk/src/types/options.ts\n- packages/sdk/src/types/options.test.ts\n\n## Definition of Done\n- [ ] Edge case tests for all option fields (RED)\n- [ ] All validations implemented (GREEN)\n- [ ] Schema-based validation if appropriate (REFACTOR)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-06T12:23:48.572879-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:20:34.374611-06:00","closed_at":"2026-01-06T13:20:34.374611-06:00","close_reason":"Closed"}
{"id":"claude-eg0","title":"@dotdo/claude SDK","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T06:19:52.698641-06:00","updated_at":"2026-01-06T07:19:48.332596-06:00","closed_at":"2026-01-06T07:19:48.332596-06:00","close_reason":"SDK fully implemented with tests passing: ClaudeClient, ClaudeCode Durable Object, types, server helpers, and exports all complete. 78 tests passing."}
{"id":"claude-eyr","title":"[TDD-DOC-30] GREEN: Examples Overview","description":"Write docs/examples/index.mdx - overview and links to all examples","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:54.22335-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:11:48.973068-06:00","closed_at":"2026-01-06T10:11:48.973068-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-eyr","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:36.504754-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-fd7","title":"[TDD-08] Options Runtime Validation","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:06:16.702549-06:00","updated_at":"2026-01-06T08:46:44.424184-06:00","closed_at":"2026-01-06T08:46:44.424184-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-fd7","depends_on_id":"claude-2bi","type":"blocks","created_at":"2026-01-06T08:10:18.39061-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-fln","title":"GREEN: sdk-types-impl - Define SDK types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:15.89306-06:00","updated_at":"2026-01-06T07:19:22.235038-06:00","closed_at":"2026-01-06T07:19:22.235038-06:00","close_reason":"SDK types are fully implemented across messages.ts (SDKMessage, ContentBlock, etc.), events.ts (TodoUpdate, PlanUpdate, ToolUseEvent), and options.ts (ClaudeCodeOptions, ClaudeSession, PermissionMode). All re-exported from types/index.ts with backward compatibility aliases.","dependencies":[{"issue_id":"claude-fln","depends_on_id":"claude-eg0","type":"blocks","created_at":"2026-01-06T06:23:06.377917-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-ga8","title":"[TDD-15] Auto-Reconnect with Backoff","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:09:08.307041-06:00","updated_at":"2026-01-06T08:46:44.42643-06:00","closed_at":"2026-01-06T08:46:44.42643-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-ga8","depends_on_id":"claude-4h5","type":"blocks","created_at":"2026-01-06T08:11:02.597187-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-gjg","title":"[TDD-DOC-01] RED: Docs Schema Validation","description":"Create test that validates all MDX files have required frontmatter (title, description) and all meta.json files have valid structure","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T09:26:10.391744-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:46:53.108424-06:00","closed_at":"2026-01-06T09:46:53.108424-06:00","close_reason":"RED tests created in docs/__tests__/"}
{"id":"claude-gpm","title":"[TDD-DOC-13] GREEN: Event System","description":"Write docs/sdk/events.mdx - TypedEventEmitter, EventKeys, subscribing to events","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:09.917305-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:58:19.05871-06:00","closed_at":"2026-01-06T09:58:19.05871-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-gpm","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:08.359892-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-h5w","title":"TDD: ClaudeSession.send()","description":"## RED Phase\n- Test send(message) writes to stdin\n- Test send() formats as NDJSON\n- Test send() throws if not started\n- Test send() throws if session completed\n- Test send() with raw NDJSON option\n\n## GREEN Phase\n- Write to process stdin via ProcessManager\n- Format message correctly\n\n## REFACTOR Phase\n- Queue messages if process busy\n- Add send timeout","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:21.62002-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:28:30.743583-06:00","closed_at":"2026-01-06T15:28:30.743583-06:00","close_reason":"ClaudeSession.send() TDD complete","dependencies":[{"issue_id":"claude-h5w","depends_on_id":"claude-a2y","type":"blocks","created_at":"2026-01-06T14:42:33.90234-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-huy","title":"TDD: RuntimeResult and process types","description":"## RED Phase\n- Test ExecResult type has: exitCode, stdout?, stderr?\n- Test type guards for result validation\n\n## GREEN Phase\n- Define ExecResult interface\n- Add type guard `isExecResult()`\n\n## REFACTOR Phase\n- Document error cases\n- Add examples","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T14:35:24.663221-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:54:35.854046-06:00","closed_at":"2026-01-06T14:54:35.854046-06:00","close_reason":"RuntimeResult and process types implemented with TDD","dependencies":[{"issue_id":"claude-huy","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:36:12.548296-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-i2o","title":"TDD: validateOptions strict mode for unknown fields","description":"## Problem\nExtra fields pass silently:\n```typescript\nvalidateOptions({ cwd: '/valid', evilField: 'malicious' }) // No warning!\n```\n\n## TDD Approach\n### RED Phase\n- Write test: unknown field in strict mode → should throw\n- Write test: unknown field in permissive mode → should warn\n- Write test: all known fields → should pass\n\n### GREEN Phase\n- Add strict mode option (default: warn)\n- Enumerate known fields\n- Return/throw on unknown in strict mode\n\n### REFACTOR Phase\n- Make strict mode default for security\n- Add CLAUDE_CODE_STRICT_VALIDATION env var\n- Document validation modes\n\n## Files\n- packages/sdk/src/types/options.ts\n- packages/sdk/src/types/options.test.ts\n\n## Definition of Done\n- [ ] Strict/permissive mode tests (RED)\n- [ ] Mode switching implemented (GREEN)\n- [ ] Configuration documented (REFACTOR)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:24:18.095363-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:41:24.700799-06:00","closed_at":"2026-01-06T13:41:24.700799-06:00","close_reason":"Closed"}
{"id":"claude-i4w","title":"[TDD-DOC-22] GREEN: SessionPanel Component","description":"Write docs/terminal/components/session-panel.mdx - SessionPanel props, session management","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:09.404469-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:06:50.498253-06:00","closed_at":"2026-01-06T10:06:50.498253-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-i4w","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:54.908816-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-i5y","title":"Playwright E2E Tests","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-06T06:19:59.465216-06:00","updated_at":"2026-01-06T07:41:24.360613-06:00","closed_at":"2026-01-06T07:41:24.360613-06:00","close_reason":"All E2E tests implemented: session, filetree, chat, terminal tests complete"}
{"id":"claude-ic7","title":"TDD: Event emitter listener memory leak","description":"## Problem\nTypedEventEmitter has no listener cleanup, can grow unbounded if:\n- Listeners added but never removed\n- Components mount/unmount without cleanup\n- Error handlers accumulate\n\n## TDD Approach\n### RED Phase\n- Write test: add 1000 listeners → memory should be bounded\n- Write test: off() should actually remove listener\n- Write test: once() should auto-remove after fire\n\n### GREEN Phase\n- Add removeAllListeners() method\n- Add max listeners warning (like Node.js)\n- Verify off() implementation works\n\n### REFACTOR Phase\n- Add listener count getter\n- Add debugging utilities\n- Document cleanup patterns\n\n## Files\n- packages/sdk/src/events/emitter.ts\n- packages/sdk/src/events/emitter.test.ts\n\n## Definition of Done\n- [ ] Memory growth tests (RED)\n- [ ] Cleanup methods implemented (GREEN)\n- [ ] Best practices documented (REFACTOR)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T12:23:47.530008-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T12:49:50.118763-06:00","closed_at":"2026-01-06T12:49:50.118763-06:00","close_reason":"Closed"}
{"id":"claude-ird","title":"[TDD-DOC-03] RED: Docs Code Example Validation","description":"Create test that extracts TypeScript code blocks from MDX and validates they compile without errors","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T09:26:23.282175-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:46:53.111924-06:00","closed_at":"2026-01-06T09:46:53.111924-06:00","close_reason":"RED tests created in docs/__tests__/"}
{"id":"claude-j37","title":"[TDD-DOC-11] GREEN: ClaudeCode Server","description":"Write docs/sdk/server.mdx - ClaudeCode Durable Object, ProcessManager, NDJSONParser","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:57.926935-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:56:15.082312-06:00","closed_at":"2026-01-06T09:56:15.082312-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-j37","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:58.023377-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-j6q","title":"[EPIC] Architecture Improvements","description":"Structural improvements for maintainability and scalability. All follow TDD: Red → Green → Refactor.\n\n## Scope\n- Interface consolidation\n- Session management\n- Storage optimization\n- Process isolation\n\n## Success Criteria\n- Single source of truth for types\n- Bounded resource usage\n- Improved performance under load","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T12:23:10.090437-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:21:32.534217-06:00","closed_at":"2026-01-06T14:21:32.534217-06:00","close_reason":"All architecture improvements completed","dependencies":[{"issue_id":"claude-j6q","depends_on_id":"claude-vdk","type":"blocks","created_at":"2026-01-06T12:25:56.685969-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-j6q.1","title":"TDD: Consolidate duplicated Sandbox interface","description":"## Problem\nSandbox interface duplicated in 3+ files:\n- packages/sdk/src/server/claude-code.ts\n- packages/sdk/src/server/index.ts\n- Possibly others\n\nChanges in one don't propagate to others.\n\n## TDD Approach\n### RED Phase\n- Write test: import Sandbox from canonical location\n- Write test: all methods available\n- Identify all duplicate locations\n\n### GREEN Phase\n- Create single types/sandbox.ts\n- Export from main entry points\n- Update all imports\n\n### REFACTOR Phase\n- Add Sandbox capability detection\n- Document Sandbox provider requirements\n- Add mock Sandbox for testing\n\n## Files\n- packages/sdk/src/types/sandbox.ts (new)\n- packages/sdk/src/server/claude-code.ts\n- packages/sdk/src/server/index.ts\n\n## Definition of Done\n- [ ] All duplicates identified (RED)\n- [ ] Single canonical interface (GREEN)\n- [ ] Provider documentation (REFACTOR)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:23:21.325344-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:50:14.161624-06:00","closed_at":"2026-01-06T13:50:14.161624-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-j6q.1","depends_on_id":"claude-j6q","type":"parent-child","created_at":"2026-01-06T12:23:21.326087-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-j6q.2","title":"TDD: Implement session eviction policy (LRU)","description":"## Problem\nSessions stored indefinitely → unbounded memory growth:\n- No max session limit\n- No TTL/expiry\n- Old sessions never cleaned up\n\n## TDD Approach\n### RED Phase\n- Write test: create MAX_SESSIONS+1 → oldest evicted\n- Write test: access session → updates LRU order\n- Write test: expired session → auto-evicted\n\n### GREEN Phase\n- Add LRU session cache\n- Configurable max sessions\n- Optional TTL per session\n\n### REFACTOR Phase\n- Add eviction callbacks for cleanup\n- Add session metrics (count, memory)\n- Document capacity planning\n\n## Files\n- packages/sdk/src/server/claude-code.ts\n- packages/sdk/src/utils/lru-cache.ts (new)\n\n## Definition of Done\n- [ ] Eviction behavior tests (RED)\n- [ ] LRU + TTL implemented (GREEN)\n- [ ] Monitoring added (REFACTOR)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:23:32.123143-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:48:42.353684-06:00","closed_at":"2026-01-06T13:48:42.353684-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-j6q.2","depends_on_id":"claude-j6q","type":"parent-child","created_at":"2026-01-06T12:23:32.12459-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-j6q.2","depends_on_id":"claude-uly","type":"blocks","created_at":"2026-01-06T12:26:24.79771-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-j6q.3","title":"TDD: Optimize storage write frequency","description":"## Problem\nEvery message triggers storage write:\n- High latency for rapid messages\n- Potential rate limiting\n- Unnecessary writes for transient state\n\n## TDD Approach\n### RED Phase\n- Write benchmark: 100 rapid messages → measure write count\n- Write test: batch writes within window\n- Write test: critical state written immediately\n\n### GREEN Phase\n- Add write debouncing (50-100ms window)\n- Batch multiple updates into single write\n- Immediate flush for session end/error\n\n### REFACTOR Phase\n- Add write coalescing metrics\n- Consider write-ahead log pattern\n- Document consistency guarantees\n\n## Files\n- packages/sdk/src/server/claude-code.ts\n\n## Definition of Done\n- [ ] Write frequency benchmarks (RED)\n- [ ] Batching implemented (GREEN)\n- [ ] Performance documented (REFACTOR)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:23:43.314212-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T14:21:03.622509-06:00","closed_at":"2026-01-06T14:21:03.622509-06:00","close_reason":"Write batching implemented with TDD","dependencies":[{"issue_id":"claude-j6q.3","depends_on_id":"claude-j6q","type":"parent-child","created_at":"2026-01-06T12:23:43.316297-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-j6q.3","depends_on_id":"claude-j6q.2","type":"blocks","created_at":"2026-01-06T12:26:29.962237-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-j6q.4","title":"TDD: Isolate session state per Claude process","description":"## Problem\nMultiple sessions might share state if process reused:\n- Environment variables leak\n- Working directory conflicts\n- Resource contention\n\n## TDD Approach\n### RED Phase\n- Write test: two sessions different cwd → no interference\n- Write test: session env vars → isolated\n- Write test: session files → isolated\n\n### GREEN Phase\n- Ensure fresh process per session (or clean reset)\n- Isolate environment\n- Document isolation guarantees\n\n### REFACTOR Phase\n- Consider process pool with clean reset\n- Add isolation verification\n- Document multi-tenant considerations\n\n## Files\n- packages/sdk/src/server/process-manager.ts\n- packages/sdk/src/server/claude-code.ts\n\n## Definition of Done\n- [ ] Isolation violation tests (RED)\n- [ ] Process isolation implemented (GREEN)\n- [ ] Multi-tenant docs (REFACTOR)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:23:54.727581-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:48:45.476925-06:00","closed_at":"2026-01-06T13:48:45.476925-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-j6q.4","depends_on_id":"claude-j6q","type":"parent-child","created_at":"2026-01-06T12:23:54.728393-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-jkr","title":"[TDD-09] Promise Rejection Handling","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:07:14.021809-06:00","updated_at":"2026-01-06T08:38:21.809009-06:00","closed_at":"2026-01-06T08:38:21.809009-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-jkr","depends_on_id":"claude-dr9","type":"blocks","created_at":"2026-01-06T08:10:25.049187-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kkk","title":"[TDD-DOC-05] GREEN: Getting Started Index","description":"Write docs/getting-started/index.mdx - overview of getting started with @dotdo/claude","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:18.943197-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:49:17.18736-06:00","closed_at":"2026-01-06T09:49:17.18736-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-kkk","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:27.017439-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kuu","title":"Create ready-to-run example application","description":"## Problem\nNo working example for users to:\n- Understand integration\n- Fork and customize\n- Learn patterns\n\n## Approach\n### Phase 1: Basic Example\n- Next.js or Remix app\n- Connect to ClaudeCode\n- Send message, display response\n- Show todo/plan updates\n\n### Phase 2: Full Example\n- File browser\n- Terminal view\n- Session management\n- Auth example\n\n### Phase 3: Documentation\n- Step-by-step setup guide\n- Common patterns\n- Deployment instructions\n\n## Files\n- packages/example/package.json\n- packages/example/src/app/page.tsx\n- packages/example/README.md\n\n## Definition of Done\n- [ ] Basic example works locally\n- [ ] Can connect to deployed ClaudeCode\n- [ ] README with setup instructions","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T12:23:31.145377-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:49:29.342443-06:00","closed_at":"2026-01-06T13:49:29.342443-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kuu","depends_on_id":"claude-6vx","type":"blocks","created_at":"2026-01-06T12:26:36.369932-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-kuu","depends_on_id":"claude-pdt","type":"blocks","created_at":"2026-01-06T12:26:41.534603-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy","title":"CC-ui: OpenCode-Style UI Components","description":"Build React components for chat, file explorer, diff viewer to provide full web IDE experience.","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T05:31:34.263481-06:00","updated_at":"2026-01-06T07:20:05.549703-06:00","closed_at":"2026-01-06T07:20:05.549703-06:00","close_reason":"Core UI components complete: Chat, FileTree, DiffViewer, Layout all implemented with 99 tests passing. SessionPanel and theme refinement (P2) remain as future enhancements but core functionality is done."}
{"id":"claude-kyy.1","title":"RED: ui-chat-test - Tests for Chat component","description":"Test message rendering\nTest streaming message display\nTest input handling\nTest markdown rendering","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:31:43.992607-06:00","updated_at":"2026-01-06T06:23:22.556099-06:00","closed_at":"2026-01-06T06:23:22.556099-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.1","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:31:43.993314-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.10","title":"GREEN: ui-session-impl - Implement SessionPanel","description":"List active sessions\nCreate new session dialog\nSwitch between sessions","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:33:12.092809-06:00","updated_at":"2026-01-06T07:31:19.082163-06:00","closed_at":"2026-01-06T07:31:19.082163-06:00","close_reason":"SessionPanel implemented with session list, create, switch, delete functionality","dependencies":[{"issue_id":"claude-kyy.10","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:33:12.093419-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.11","title":"REFACTOR: ui-theme - Theme and styling refinement","description":"Dark/light mode toggle\nConsistent design tokens\nAccessibility improvements","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T05:33:22.363789-06:00","updated_at":"2026-01-06T07:43:52.28106-06:00","closed_at":"2026-01-06T07:43:52.28106-06:00","close_reason":"Theme refinement complete with dark mode support","dependencies":[{"issue_id":"claude-kyy.11","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:33:22.364375-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.2","title":"GREEN: ui-chat-impl - Implement Chat component","description":"Message list with virtual scrolling\nStreaming message support\nInput with submit handling\nMarkdown/code rendering","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:31:54.193775-06:00","updated_at":"2026-01-06T06:23:29.278327-06:00","closed_at":"2026-01-06T06:23:29.278327-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.2","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:31:54.194402-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.3","title":"RED: ui-filetree-test - Tests for FileTree component","description":"Test directory expansion\nTest file selection\nTest lazy loading","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:32:04.620464-06:00","updated_at":"2026-01-06T06:21:35.893729-06:00","closed_at":"2026-01-06T06:21:35.893729-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.3","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:32:04.621201-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.4","title":"GREEN: ui-filetree-impl - Implement FileTree component","description":"Tree structure rendering\nExpand/collapse directories\nFile selection callback\nIcon display by file type","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:32:14.355967-06:00","updated_at":"2026-01-06T06:21:35.894365-06:00","closed_at":"2026-01-06T06:21:35.894365-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.4","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:32:14.35668-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.5","title":"RED: ui-diffviewer-test - Tests for DiffViewer component","description":"Test unified diff display\nTest side-by-side mode\nTest syntax highlighting","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:32:23.96253-06:00","updated_at":"2026-01-06T06:22:56.150866-06:00","closed_at":"2026-01-06T06:22:56.150866-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.5","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:32:23.963251-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.6","title":"GREEN: ui-diffviewer-impl - Implement DiffViewer component","description":"Parse git diff format\nUnified and split view modes\nLine number display\nSyntax highlighting","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:32:33.420428-06:00","updated_at":"2026-01-06T06:23:01.414013-06:00","closed_at":"2026-01-06T06:23:01.414013-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.6","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:32:33.421177-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.7","title":"RED: ui-layout-test - Tests for IDE layout","description":"Test panel resizing\nTest panel collapse\nTest responsive behavior","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:32:44.166837-06:00","updated_at":"2026-01-06T06:21:35.894701-06:00","closed_at":"2026-01-06T06:21:35.894701-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.7","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:32:44.16741-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.8","title":"GREEN: ui-layout-impl - Implement IDE layout","description":"Resizable panels (sidebar, main, terminal)\nPanel collapse/expand\nResponsive mobile layout","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:32:53.49653-06:00","updated_at":"2026-01-06T06:21:35.895034-06:00","closed_at":"2026-01-06T06:21:35.895034-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-kyy.8","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:32:53.497289-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kyy.9","title":"RED: ui-session-test - Tests for SessionPanel","description":"Test session list\nTest session creation dialog\nTest session switching","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T05:33:03.074083-06:00","updated_at":"2026-01-06T07:31:25.743894-06:00","closed_at":"2026-01-06T07:31:25.743894-06:00","close_reason":"SessionPanel tests complete","dependencies":[{"issue_id":"claude-kyy.9","depends_on_id":"claude-kyy","type":"parent-child","created_at":"2026-01-06T05:33:03.07487-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-kzy","title":"TDD: ClaudeSession.waitForResult()","description":"## RED Phase\n- Test waitForResult() returns SDKResultMessage\n- Test waitForResult() blocks until complete\n- Test timeout option\n- Test returns error result on failure\n- Test can call multiple times (returns same result)\n\n## GREEN Phase\n- Wait for result event\n- Cache result for re-calls\n- Implement timeout\n\n## REFACTOR Phase\n- Add progress callback option\n- Memory cleanup after result","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:36.74977-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:39:43.565647-06:00","closed_at":"2026-01-06T15:39:43.565647-06:00","close_reason":"ClaudeSession.waitForResult() TDD complete","dependencies":[{"issue_id":"claude-kzy","depends_on_id":"claude-2db","type":"blocks","created_at":"2026-01-06T14:42:47.654582-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-laj","title":"[EPIC] Type Safety Improvements","description":"Strengthen runtime type safety across the SDK. All follow TDD: Red → Green → Refactor.\n\n## Scope\n- Strengthen type guards\n- Eliminate unsafe assertions\n- Validate external data\n- Clean up any types\n\n## Success Criteria\n- No runtime type errors\n- All external data validated\n- Zero unsafe type assertions\n- Minimal any usage","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T12:23:13.81768-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:44:25.42437-06:00","closed_at":"2026-01-06T13:44:25.42437-06:00","close_reason":"All sub-tasks completed - security hardening, type safety, stability, and feature gaps addressed","dependencies":[{"issue_id":"claude-laj","depends_on_id":"claude-vdk","type":"blocks","created_at":"2026-01-06T12:25:51.519803-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-loj","title":"[TDD-DOC-33] GREEN: Embedded Terminal Example","description":"Write docs/examples/embedded-terminal.mdx - iframe embedding in existing app","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:13.966215-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:14:25.11423-06:00","closed_at":"2026-01-06T10:14:25.11423-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-loj","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:52.104107-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-lom","title":"REFACTOR: rpc-types - Clean up RPC type definitions","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:20:41.133906-06:00","updated_at":"2026-01-06T07:20:02.858862-06:00","closed_at":"2026-01-06T07:20:02.858862-06:00","close_reason":"Type definitions are clean and well-organized in interfaces.ts: IClaudeCodeRpc, IClaudeCodeRpcWithCallbacks, IStreamCallbacks, SessionInfo, QueryResult, ErrorCodes, and RpcError. Also has RpcStub, RpcPromise, and ClaudeSandboxRpc types in index.ts.","dependencies":[{"issue_id":"claude-lom","depends_on_id":"claude-xjh","type":"blocks","created_at":"2026-01-06T06:22:33.796097-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-lu6","title":"TDD: Shell injection fix in configureClaudeCode","description":"## Problem\npackages/sdk/src/server/index.ts:131-144 uses printf with string replacement, vulnerable to injection:\n```typescript\nconst settingsJson = JSON.stringify(CLAUDE_CODE_SETTINGS)\n  .replace(/\"/g, '\\\\\"')\nawait sandbox.exec(`printf \"${settingsJson}\" \u003e file`)\n```\n\n## TDD Approach\n### RED Phase\n- Write test: settings with $(command) → should not execute\n- Write test: settings with backticks → should not execute\n- Write test: settings with ${} → should not execute\n\n### GREEN Phase\n- Use sandbox.writeFile() instead of printf (if available)\n- Or use heredoc with quoted delimiter\n- Or base64 encode → decode\n\n### REFACTOR Phase\n- Extract writeJsonFile utility\n- Add to shell.ts utilities\n- Document safe file writing pattern\n\n## Files\n- packages/sdk/src/server/index.ts:121-154\n- packages/sdk/src/utils/shell.ts (add utility)\n\n## Definition of Done\n- [ ] Failing tests written for injection vectors (RED)\n- [ ] Safe file writing implemented (GREEN)\n- [ ] Utility extracted and documented (REFACTOR)","status":"closed","priority":0,"issue_type":"bug","created_at":"2026-01-06T12:23:35.019775-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T12:49:28.919942-06:00","closed_at":"2026-01-06T12:49:28.919942-06:00","close_reason":"Closed"}
{"id":"claude-lyw","title":"[TDD-DOC-24] GREEN: Embedding Terminal","description":"Write docs/terminal/embedding.mdx - TerminalEmbed, iframe, postMessage API","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:22.621012-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:06:50.50012-06:00","closed_at":"2026-01-06T10:06:50.50012-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-lyw","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:05.282001-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-myg","title":"[TDD-13] SDK↔Terminal Integration Tests","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:08:57.163148-06:00","updated_at":"2026-01-06T09:11:03.316923-06:00","closed_at":"2026-01-06T09:11:03.316923-06:00","close_reason":"Covered by existing comprehensive tests - 180 SDK tests + 147 terminal tests all passing","dependencies":[{"issue_id":"claude-myg","depends_on_id":"claude-fd7","type":"blocks","created_at":"2026-01-06T08:10:47.103716-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-myg","depends_on_id":"claude-uhv","type":"blocks","created_at":"2026-01-06T08:10:52.267912-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-nlk","title":"[TDD-05] RpcStub Generic Types","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:06:00.126953-06:00","updated_at":"2026-01-06T08:38:21.807381-06:00","closed_at":"2026-01-06T08:38:21.807381-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-nlk","depends_on_id":"claude-s9k","type":"blocks","created_at":"2026-01-06T08:10:02.591485-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-pdt","title":"TDD: Authentication middleware for production","description":"## Problem\nNo authentication:\n- Anyone can access sessions\n- No user isolation\n- Can't use in production\n\n## TDD Approach\n### RED Phase\n- Write test: request without auth → 401\n- Write test: request with valid token → succeeds\n- Write test: expired token → 401\n\n### GREEN Phase\n- Add auth middleware\n- Support JWT and API key\n- Add user context to session\n\n### REFACTOR Phase\n- Add auth provider abstraction\n- Support OAuth providers\n- Add rate limiting per user\n\n## Files\n- packages/sdk/src/server/auth/middleware.ts (new)\n- packages/sdk/src/server/auth/jwt.ts (new)\n- packages/sdk/src/server/claude-code.ts\n\n## Definition of Done\n- [ ] Auth enforcement tests (RED)\n- [ ] JWT/API key auth (GREEN)\n- [ ] Provider abstraction (REFACTOR)","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-06T12:23:55.782789-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:42:14.70296-06:00","closed_at":"2026-01-06T13:42:14.70296-06:00","close_reason":"Closed"}
{"id":"claude-pxv","title":"[TDD-DOC-26] GREEN: Cloudflare Deployment","description":"Write docs/guides/cloudflare-deployment.mdx - deploy to Cloudflare Workers with DO","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:26.755893-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:08:47.460055-06:00","closed_at":"2026-01-06T10:08:47.460055-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-pxv","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:15.662208-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-q5j","title":"[TDD-DOC-36] GREEN: Error Handling Reference","description":"Write docs/reference/error-codes.mdx - ErrorCodes, ClaudeClientError, handling patterns","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:34.685266-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:14:25.119876-06:00","closed_at":"2026-01-06T10:14:25.119876-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-q5j","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:31:07.597373-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-qzp","title":"TDD: ClaudeSession.destroy()","description":"## RED Phase\n- Test destroy() kills process\n- Test destroy() cleans up pipes\n- Test destroy() is idempotent\n- Test destroy() on not-started session works\n- Test events iterator completes after destroy\n\n## GREEN Phase\n- Kill process\n- Clean up resources\n- Close streams\n\n## REFACTOR Phase\n- Ensure no memory leaks\n- Clear all references","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:50.95491-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:31:50.611232-06:00","closed_at":"2026-01-06T15:31:50.611232-06:00","close_reason":"ClaudeSession.destroy() TDD complete","dependencies":[{"issue_id":"claude-qzp","depends_on_id":"claude-a2y","type":"blocks","created_at":"2026-01-06T14:43:02.563714-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-r2c","title":"[TDD-DOC-39] REFACTOR: Navigation Polish","description":"Review all meta.json files, optimize page ordering, add icons where helpful","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T09:26:26.294072-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:19:53.010012-06:00","closed_at":"2026-01-06T10:19:53.010012-06:00","close_reason":"REFACTOR improvements applied","dependencies":[{"issue_id":"claude-r2c","depends_on_id":"claude-21k","type":"blocks","created_at":"2026-01-06T09:29:39.23835-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-r5d","title":"[Epic] TDD Security \u0026 Quality Hardening","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T08:09:39.73347-06:00","updated_at":"2026-01-06T09:11:14.674855-06:00","closed_at":"2026-01-06T09:11:14.674855-06:00","close_reason":"All TDD issues closed - comprehensive test coverage achieved"}
{"id":"claude-r8f","title":"[EPIC] ClaudeSession (Runtime-Agnostic)","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:35:39.141942-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:05:18.810696-06:00","closed_at":"2026-01-06T15:05:18.810696-06:00","close_reason":"EPIC approved - children ready for TDD implementation","dependencies":[{"issue_id":"claude-r8f","depends_on_id":"claude-trv","type":"blocks","created_at":"2026-01-06T14:35:48.998698-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-rfa","title":"[TDD-DOC-10] GREEN: ClaudeClient Reference","description":"Write docs/sdk/client.mdx - ClaudeClient class, methods, options, callbacks","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:51.006146-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:56:15.081163-06:00","closed_at":"2026-01-06T09:56:15.081163-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-rfa","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:52.869659-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-s9k","title":"[TDD-01] Shell Escape Security","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-06T08:04:43.692857-06:00","updated_at":"2026-01-06T08:34:21.181633-06:00","closed_at":"2026-01-06T08:34:21.181633-06:00","close_reason":"TDD implementation complete - tests passing"}
{"id":"claude-sbd","title":"TDD: ClaudeSession.query() convenience","description":"## RED Phase\n- Test query(prompt) sends and waits for result\n- Test query() returns result message\n- Test query() handles errors\n- Test with callbacks option\n\n## GREEN Phase\n- Combine send() + waitForResult()\n- Pass through callbacks\n\n## REFACTOR Phase\n- Add streaming option\n- Optimize for simple use case","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:42:04.566379-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:48:42.641461-06:00","closed_at":"2026-01-06T15:48:42.641461-06:00","close_reason":"ClaudeSession.query() TDD complete - All tests passing","dependencies":[{"issue_id":"claude-sbd","depends_on_id":"claude-h5w","type":"blocks","created_at":"2026-01-06T14:43:15.641503-06:00","created_by":"nathanclevenger"},{"issue_id":"claude-sbd","depends_on_id":"claude-kzy","type":"blocks","created_at":"2026-01-06T14:43:20.903988-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-sds","title":"TDD: Replace 8 production 'any' types with proper types","description":"## Problem\n8 problematic 'any' occurrences in production code enable type errors.\n\n## TDD Approach\n### RED Phase\n- Identify all 8 production 'any' locations\n- Write test that would catch type error at each location\n- Document why each 'any' was used\n\n### GREEN Phase\n- Replace each 'any' with proper type\n- Add runtime validation where needed\n- Use unknown + type guard pattern\n\n### REFACTOR Phase\n- Add eslint no-explicit-any rule\n- Configure stricter tsconfig\n- Document any escape hatches\n\n## Files\n- Run: grep -r 'any' packages/sdk/src --include='*.ts' | grep -v test | grep -v node_modules\n\n## Definition of Done\n- [ ] All 8 locations identified (RED)\n- [ ] All replaced with proper types (GREEN)\n- [ ] Lint rule added (REFACTOR)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:24:45.398839-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:24:15.163939-06:00","closed_at":"2026-01-06T13:24:15.163939-06:00","close_reason":"Closed"}
{"id":"claude-so0","title":"[TDD-DOC-08] GREEN: Core Concepts","description":"Write docs/getting-started/concepts.mdx - sessions, RPC, events, streaming explained","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:38.537882-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:49:17.190783-06:00","closed_at":"2026-01-06T09:49:17.190783-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-so0","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:42.529089-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-t9k","title":"[TDD-DOC-35] GREEN: Complete Type Reference","description":"Write docs/reference/types.mdx - exhaustive type definitions from both packages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:27.837724-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:14:25.118286-06:00","closed_at":"2026-01-06T10:14:25.118286-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-t9k","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:31:02.432162-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-taa","title":"[TDD-DOC-34] GREEN: Reference Overview","description":"Write docs/reference/index.mdx - API reference landing page","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:27:21.111249-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:14:25.117339-06:00","closed_at":"2026-01-06T10:14:25.117339-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-taa","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:30:57.267495-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-tj6","title":"[TDD-DOC-40] REFACTOR: SEO and Descriptions","description":"Ensure all frontmatter descriptions are SEO-friendly, add missing metadata","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-06T09:26:32.538806-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:19:53.012714-06:00","closed_at":"2026-01-06T10:19:53.012714-06:00","close_reason":"REFACTOR improvements applied","dependencies":[{"issue_id":"claude-tj6","depends_on_id":"claude-21k","type":"blocks","created_at":"2026-01-06T09:29:44.414828-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-trv","title":"[EPIC] Runtime Abstraction Layer","description":"## Context\nThe SDK currently uses a `Sandbox` interface tied to Cloudflare. We're refactoring to support multiple runtimes (Bun, Cloudflare, Node) with a unified `Runtime` interface.\n\n## Goals\n- Define a unified `Runtime` interface that works across all supported runtimes\n- Support Bun, Cloudflare Workers, and Node.js\n- Maintain backward compatibility with existing `Sandbox` usage\n- Follow TDD methodology for all implementation\n\n## Child Issues\n- TDD: Define Runtime interface\n- TDD: RuntimeResult and process types\n- TDD: Deprecate Sandbox naming","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:35:01.971074-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:03:29.884013-06:00","closed_at":"2026-01-06T15:03:29.884013-06:00","close_reason":"All child TDD issues completed: Runtime interface defined, RuntimeResult types added, Sandbox naming deprecated"}
{"id":"claude-u5o","title":"REFACTOR: sdk-exports - Clean up SDK exports","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:22.616808-06:00","updated_at":"2026-01-06T07:19:47.380824-06:00","closed_at":"2026-01-06T07:19:47.380824-06:00","close_reason":"SDK exports are clean and well-organized in /packages/sdk/src/index.ts. Exports are grouped into: types (from ./types/index.js), client (ClaudeClient, createClaudeClient), server helpers (ClaudeCode, getSandbox, etc.), RPC helpers (RpcTarget, RpcSession, etc.), event emitter, and terminal proxy. Includes comprehensive JSDoc with examples.","dependencies":[{"issue_id":"claude-u5o","depends_on_id":"claude-eg0","type":"blocks","created_at":"2026-01-06T06:23:13.277533-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-uhv","title":"[TDD-12] Session Concurrency Control","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T08:07:30.850665-06:00","updated_at":"2026-01-06T08:46:44.425538-06:00","closed_at":"2026-01-06T08:46:44.425538-06:00","close_reason":"TDD implementation complete - tests passing","dependencies":[{"issue_id":"claude-uhv","depends_on_id":"claude-4h5","type":"blocks","created_at":"2026-01-06T08:10:40.645193-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-uly","title":"TDD: Session storage race condition","description":"## Problem\nConcurrent session writes can corrupt state. No mutex protection on:\n- put()/get() operations\n- Session status updates\n- Message appending\n\n## TDD Approach\n### RED Phase\n- Write test: 10 concurrent session updates → all should succeed\n- Write test: rapid status changes → final state correct\n- Write test: concurrent message appends → no data loss\n\n### GREEN Phase\n- Add AsyncMutex to session operations (already have mutex.ts!)\n- Serialize critical section operations\n- Add transaction-like semantics\n\n### REFACTOR Phase\n- Consider per-session mutex (finer granularity)\n- Add contention metrics\n- Document locking strategy\n\n## Files\n- packages/sdk/src/server/claude-code.ts\n- packages/sdk/src/utils/mutex.ts (already exists)\n\n## Definition of Done\n- [ ] Concurrent access tests (RED)\n- [ ] Mutex protection added (GREEN)\n- [ ] Locking strategy optimized (REFACTOR)","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-06T12:23:36.423755-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T12:54:33.391526-06:00","closed_at":"2026-01-06T12:54:33.391526-06:00","close_reason":"Closed"}
{"id":"claude-vcm","title":"Create working wrangler.toml for deployment","description":"## Problem\nNo deployment configuration:\n- Users can't deploy to Cloudflare\n- No example bindings\n- No documentation\n\n## Approach\n### Phase 1: Basic Config\n- wrangler.toml with DO bindings\n- KV namespace for storage\n- D1 database (optional)\n\n### Phase 2: Environment Setup\n- Development config\n- Production config\n- Secrets management\n\n### Phase 3: Documentation\n- Deployment guide\n- Required permissions\n- Cost estimation\n\n## Files\n- wrangler.toml\n- wrangler.dev.toml\n- docs/deployment.md\n\n## Definition of Done\n- [ ] wrangler.toml deployable\n- [ ] Development workflow documented\n- [ ] Production deployment tested","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T12:23:45.214015-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:40:44.393167-06:00","closed_at":"2026-01-06T13:40:44.393167-06:00","close_reason":"Closed"}
{"id":"claude-vdk","title":"[EPIC] Security Hardening","description":"Critical security fixes identified in code review. All issues follow TDD: Red (failing test) → Green (minimal fix) → Refactor (cleanup).\n\n## Scope\n- PostMessage origin validation\n- Shell injection prevention\n- Options input validation\n\n## Success Criteria\n- All security tests pass\n- No known vulnerabilities\n- Zero tolerance for injection attacks","status":"closed","priority":0,"issue_type":"feature","created_at":"2026-01-06T12:23:11.395412-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:44:25.422587-06:00","closed_at":"2026-01-06T13:44:25.422587-06:00","close_reason":"All sub-tasks completed - security hardening, type safety, stability, and feature gaps addressed"}
{"id":"claude-wt1","title":"[TDD-DOC-09] GREEN: SDK Overview","description":"Write docs/sdk/index.mdx - overview of SDK packages and entry points","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:44.980687-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T09:56:15.079375-06:00","closed_at":"2026-01-06T09:56:15.079375-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-wt1","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:28:47.708816-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-xj0","title":"TDD: Replace 'as unknown as' assertions with validation","description":"## Problem\nMultiple files use unsafe double assertions:\n```typescript\nconst extendedStub = stub as unknown as RpcStub\u003cIClaudeCodeRpcWithCallbacks\u003e\nconst capnweb = (await import('capnweb')) as unknown as { ... }\n```\nThese bypass TypeScript's type checking entirely.\n\n## TDD Approach\n### RED Phase\n- Write test: pass wrong type through → should fail at runtime\n- Write test: pass correct type → should work\n- Document all 'as unknown as' locations\n\n### GREEN Phase\n- Add runtime type check before cast\n- Create type-safe wrapper functions\n- Use discriminated unions where possible\n\n### REFACTOR Phase\n- Document pattern for safe dynamic imports\n- Add eslint rule to warn on 'as unknown as'\n- Create typed import wrappers\n\n## Files\n- packages/sdk/src/client/index.ts (2 locations)\n- packages/sdk/src/server/claude-code.ts\n- Search for 'as unknown as' across codebase\n\n## Definition of Done\n- [ ] All double assertions identified (RED)\n- [ ] Each replaced with validation (GREEN)\n- [ ] Pattern documented for future (REFACTOR)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T12:23:47.633208-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T13:36:44.895108-06:00","closed_at":"2026-01-06T13:36:44.895108-06:00","close_reason":"Closed","dependencies":[{"issue_id":"claude-xj0","depends_on_id":"claude-82x","type":"blocks","created_at":"2026-01-06T12:26:18.608606-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-xjh","title":"capnweb RPC Integration","status":"closed","priority":0,"issue_type":"epic","created_at":"2026-01-06T06:19:46.494934-06:00","updated_at":"2026-01-06T07:19:55.496808-06:00","closed_at":"2026-01-06T07:19:55.496808-06:00","close_reason":"RPC integration fully implemented: RpcSession, ClaudeCodeRpcServer, interfaces, and WebSocket client all complete. 20 RPC tests passing."}
{"id":"claude-xna","title":"RED: e2e-filetree-test - E2E tests for file tree","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:49.181418-06:00","updated_at":"2026-01-06T07:33:18.593594-06:00","closed_at":"2026-01-06T07:33:18.593594-06:00","close_reason":"E2E file tree tests implemented","dependencies":[{"issue_id":"claude-xna","depends_on_id":"claude-i5y","type":"blocks","created_at":"2026-01-06T06:23:39.767134-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-y73","title":"TDD: ClaudeSession event callbacks","description":"## RED Phase\n- Test onMessage callback fires\n- Test onTodoUpdate callback fires\n- Test onPlanUpdate callback fires\n- Test onComplete callback fires\n- Test onError callback fires\n- Test unsubscribe works\n\n## GREEN Phase\n- Wire up TypedEventEmitter\n- Parse tool_use for todos/plans\n- Emit typed events\n\n## REFACTOR Phase\n- Typed callback signatures\n- Memory leak prevention","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-06T14:41:57.689184-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T15:43:02.954593-06:00","closed_at":"2026-01-06T15:43:02.954593-06:00","close_reason":"ClaudeSession event callbacks TDD complete","dependencies":[{"issue_id":"claude-y73","depends_on_id":"claude-2db","type":"blocks","created_at":"2026-01-06T14:43:08.917151-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-you","title":"Fix SDK RPC WebSocket test mocks","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-06T06:32:08.677329-06:00","updated_at":"2026-01-06T07:16:33.292317-06:00","closed_at":"2026-01-06T07:16:33.292317-06:00","close_reason":"Fixed Proxy thenable issue - Proxy get handler was returning a function for 'then' property, causing Promise.resolve() to treat it as a thenable"}
{"id":"claude-zid","title":"[TDD-16] FileTree Session Integration","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T08:09:13.93292-06:00","updated_at":"2026-01-06T09:11:03.319829-06:00","closed_at":"2026-01-06T09:11:03.319829-06:00","close_reason":"Covered by existing comprehensive tests - 180 SDK tests + 147 terminal tests all passing","dependencies":[{"issue_id":"claude-zid","depends_on_id":"claude-myg","type":"blocks","created_at":"2026-01-06T08:11:09.213424-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-zjk","title":"[TDD-DOC-20] GREEN: Layout Component","description":"Write docs/terminal/components/layout.mdx - Layout props, resizable panels, responsive","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T09:26:55.030593-06:00","created_by":"nathanclevenger","updated_at":"2026-01-06T10:05:00.482073-06:00","closed_at":"2026-01-06T10:05:00.482073-06:00","close_reason":"MDX docs created","dependencies":[{"issue_id":"claude-zjk","depends_on_id":"claude-gjg","type":"blocks","created_at":"2026-01-06T09:29:44.544249-06:00","created_by":"nathanclevenger"}]}
{"id":"claude-zq4","title":"RED: e2e-session-test - E2E tests for session management","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-06T06:21:55.230347-06:00","updated_at":"2026-01-06T07:31:47.675794-06:00","closed_at":"2026-01-06T07:31:47.675794-06:00","close_reason":"E2E session tests implemented","dependencies":[{"issue_id":"claude-zq4","depends_on_id":"claude-i5y","type":"blocks","created_at":"2026-01-06T06:23:46.067031-06:00","created_by":"nathanclevenger"}]}
